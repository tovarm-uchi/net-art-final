<style>
  body {
    margin: 20px;
    background: url(staticbackground.gif);
  }

  .years {
    display: flex;
    justify-content: space-around;
  }

  .cats {
    display: flex;
    justify-content: space-around;
  }

  .stop {
    display: flex;
    justify-content: center;
  }

  .year {
    padding: 5px 5px;
    background-position: center;
    background-size: cover;
    color: white;
    font-size: 25px;
    font-family: Papyrus;
    font-weight: bold;
    cursor: pointer;
  }

  #y2000 {
    border: 5px pink;
    background-image: url(y2000bg.jpg);
  }

  #y2005 {
    border: 5px #183751;
    background-image: url(y2005bg.jpg);
  }

  #y2010 {
    border: 5px hsl(55, 100%, 61%);
    background-image: url(y2010bg.jpg);
  }

  #y2015 {
    border: 5px hsl(232, 32%, 26%);
    background-image: url(y2015bg.jpg);
  }

  #y2020 {
    border: 5px hsl(120, 20%, 70%);
    background-image: url(y2020bkg.jpg);
    font-size: 25px;
  }

  .cat {
    cursor: pointer;
    width: 75px;
    border-radius: 75px;
  }
</style>

<body>
  <div class="years">
    <button class="year" id="y2000">2000</button>
    <button class="year" id="y2005">2005</button>
    <button class="year" id="y2010">2010</button>
    <button class="year" id="y2015">2015</button>
    <button class="year" id="y2020">2020</button>
  </div>
  <div class="cats">
    <img class="cat" id="cmov" src="movieicon.png" alt="movies">
    <img class="cat" id="ctv" src="tvicon.png" alt="tv">
    <img class="cat" id="cbks" src="bookicon.png" alt="books">
    <img class="cat" id="ctrd" src="trendicon.png" alt="trends">
  </div>
</body>

<script>
  /* to give each gif properties to drop by and show */
  class Drop {
    constructor(g, yr, cat) {
      this.x = Math.random() * window.innerWidth
      this.y = Math.random() * -500 - 100
      this.r = Math.random() * 100 + 75
      this.yspeed = Math.random() * 2 + 1
      this.createImgElement(g)
      this.year = yr
      this.cat = cat
    }

    createImgElement(g) {
      this.img = document.createElement('img')
      this.img.src = g
      this.img.style.width = `${this.r}px`
      this.img.style.position = 'absolute'
      this.img.style.left = `${this.x}px`
      this.img.style.top = `${this.y}px`
      this.img.style.display = 'none' // hide by default
      document.body.appendChild(this.img)
    }

    fall() {
      this.y = this.y + this.yspeed;
      if (this.y > window.innerHeight) {
        this.y = Math.random() * -500 - 100
        this.x = Math.random() * window.innerWidth
      }
      this.img.style.top = `${this.y}px`
      this.img.style.left = `${this.x}px`
    }

    show() {
      this.img.style.display = 'block'
    }

    hide() {
      this.img.style.display = 'none'
    }

  }

  let drops = []
  const movie_2000 = ['babygenius.jpg']
  const movie_2005 = ['sharklava.png', 'skykids1.jpg', 'skykids2.png', 'spykids2.png',
                     ]
  const movie_2010 = ['hunger_games_pin.gif', 'littlerascals.jpg', 'sandlot.jpg']
  const movie_2015 = ['bueller.jpg', 'selenamovie.jpg']
  const movie_2020 = ['netflix_logo.gif', 'karatekid.png', 'selenamovie.jpg', 'sharklava.png']

  const tv_2000 = ['rugrats.gif']
  const tv_2005 = ['disney_logo.gif', 'nick_logo.gif', 'fullhouse.png', 'hannahmontana.png',
                  'spongebob.gif']
  const tv_2010 = ['nick_logo.gif', 'btr.png', 'houseofanubis.png']
  const tv_2015 = ['RBD_logo.gif', 'gilmore_girls_lukes.gif', 'elite_logo.gif',
    'netflix_logo.gif', 'parks_rec_leslie.gif', 'goodplace.png', 'janethevirgin.png',
    'mitm.png', 'odaat.png', 'the100.png'
  ]
  const tv_2020 = ['cobra_kai.gif', 'disney_logo.gif', 'jatp_logo.gif',
    'miyagi-do.gif', 'netflix_logo.gif', 'btr.png', 'houseofanubis.png',
    'mitm.png', 'raven.png', 'thats70sshow.png', 'wandavision.gif']

  const book_2000 = []
  const book_2005 = ['percy_jackson.gif']
  const book_2010 = ['hunger_games_pin.gif', 'divergent_book.png', 'gone_series.jpg']
  const book_2015 = ['edgarsawtell.jpg', 'everythingnevertold.jpg', 'invisibleman.jpg', 'perks.jpg']
  const book_2020 = ['percy_jackson.gif']

  const trend_2000 = ['lisa_frank_alien_car.gif', 'lisa_frank_angle.gif',
    'lisa_frank_tigre.gif',
  ]
  const trend_2005 = ['motorola_razer.gif', 'gamecube.gif']
  const trend_2010 = ['ducttape.gif', 'wii.gif']
  const trend_2015 = ['pokeman_go.gif', 'menudo.jpg']
  const trend_2020 = ['menudo.jpg', 'spongebob.gif', 'timbiriche.jpg', 'wii.gif']

  let yr00 = false;
  let yr05 = false;
  let yr10 = false;
  let yr15 = false;
  let yr20 = false;

  let movie = false;
  let tv = false;
  let book = false;
  let trend = false;

  function add(list, yr, cat) {
    for (let i = 0; i < list.length; i++) {
      let d = new Drop(list[i], yr, cat)
      d.show()
      drops.push(d)
    }
  }

  function remove_cat(cat) {
    let removed = []
    for (let i = 0; i < drops.length; i++) {
      let d = drops[i]
      if (d.cat !== cat) {
        removed.push(d)
      } else {
        d.hide()
      }
    }
    drops = removed
  }

  function cat_border(c, clicked) {
    let catimg = document.querySelector(c)
    if (clicked) {
      catimg.style.border = "5px ridge hsla(175, 79%, 79%, 0.83)";
    } else {
      catimg.style.border = "";
    }
  }

  document.querySelector('#cmov')
    .addEventListener('click', () => {
      movie = !movie;
      if (!movie) {
        remove_cat('movie')
      } else {
        if (yr00) {
          add(movie_2000, '2000', 'movie')
        }
        if (yr05) {
          add(movie_2005, '2005', 'movie')
        }
        if (yr10) {
          add(movie_2010, '2010', 'movie')
        }
        if (yr15) {
          add(movie_2015, '2015', 'movie')
        }
        if (yr20) {
          add(movie_2020, '2020', 'movie')
        }
      }
      cat_border('#cmov', movie)
    })

  document.querySelector('#ctv')
    .addEventListener('click', () => {
      tv = !tv;
      if (!tv) {
        remove_cat('tv')
      } else {
        if (yr00) {
          add(tv_2000, '2000', 'tv')
        }
        if (yr05) {
          add(tv_2005, '2005', 'tv')
        }
        if (yr10) {
          add(tv_2010, '2010', 'tv')
        }
        if (yr15) {
          add(tv_2015, '2015', 'tv')
        }
        if (yr20) {
          add(tv_2020, '2020', 'tv')
        }
      }
      cat_border('#ctv', tv)
    })

  document.querySelector('#cbks')
    .addEventListener('click', () => {
      book = !book;
      if (!book) {
        remove_cat('book')
      } else {
        if (yr00) {
          add(book_2000, '2000', 'book')
        }
        if (yr05) {
          add(book_2005, '2005', 'book')
        }
        if (yr10) {
          add(book_2010, '2010', 'book')
        }
        if (yr15) {
          add(book_2015, '2015', 'book')
        }
        if (yr20) {
          add(book_2020, '2020', 'book')
        }
      }
      cat_border('#cbks', book)
    })

  document.querySelector('#ctrd')
    .addEventListener('click', () => {
      trend = !trend;
      if (!trend) {
        remove_cat('trend')
      } else {
        if (yr00) {
          add(trend_2000, '2000', 'trend')
        }
        if (yr05) {
          add(trend_2005, '2005', 'trend')
        }
        if (yr10) {
          add(trend_2010, '2010', 'trend')
        }
        if (yr15) {
          add(trend_2015, '2015', 'trend')
        }
        if (yr20) {
          add(trend_2020, '2020', 'trend')
        }
      }
      cat_border('#ctrd', trend)
    })

  function remove(year) {
    let removed = []
    for (let i = 0; i < drops.length; i++) {
      let d = drops[i]
      if (d.year !== year) {
        removed.push(d)
      } else{
        d.hide()
      }
    }
    drops = removed
  }

  function year_border(y, clicked) {
    let yrbttn = document.querySelector(y)
    if (clicked) {
      yrbttn.style.borderStyle = 'ridge';
    } else {
      yrbttn.style.borderStyle = '';
    }
  }

  document.querySelector('#y2000')
    .addEventListener('click', () => {
      yr00 = !yr00
      if (yr00) {
        if (movie) {
          add(movie_2000, '2000', 'movie')
        }
        if (tv) {
          add(tv_2000, '2000', 'tv')
        }
        if (book) {
          add(book_2000, '2000', 'book')
        }
        if (trend) {
          add(trend_2000, '2000', 'trend')
        }
      } else {
        remove('2000')
      }
      year_border('#y2000', yr00)
    })

  document.querySelector('#y2005')
    .addEventListener('click', () => {
      yr05 = !yr05
      if (yr05) {
        if (movie) {
          add(movie_2005, '2005', 'movie')
        }
        if (tv) {
          add(tv_2005, '2005', 'tv')
        }
        if (book) {
          add(book_2005, '2005', 'book')
        }
        if (trend) {
          add(trend_2005, '2005', 'trend')
        }
      } else {
        remove('2005')
      }
      year_border('#y2005', yr05)
    })

  document.querySelector('#y2010')
    .addEventListener('click', () => {
      yr10 = !yr10
      if (yr10) {
        if (movie) {
          add(movie_2010, '2010', 'movie')
        }
        if (tv) {
          add(tv_2010, '2010', 'tv')
        }
        if (book) {
          add(book_2010, '2010', 'book')
        }
        if (trend) {
          add(trend_2010, '2010', 'trend')
        }
      } else {
        remove('2010')
      }
      year_border('#y2010', yr10)
    })

  document.querySelector('#y2015')
    .addEventListener('click', () => {
      yr15 = !yr15
      if (yr15) {
        if (movie) {
          add(movie_2015, '2015', 'movie')
        }
        if (tv) {
          add(tv_2015, '2015', 'tv')
        }
        if (book) {
          add(book_2015, '2015', 'book')
        }
        if (trend) {
          add(trend_2015, '2015', 'trend')
        }
      } else {
        remove('2015')
      }
      year_border('#y2015', yr15)
    })

  document.querySelector('#y2020')
    .addEventListener('click', () => {
      yr20 = !yr20
      if (yr20) {
        if (movie) {
          add(movie_2020, '2020', 'movie')
        }
        if (tv) {
          add(tv_2020, '2020', 'tv')
        }
        if (book) {
          add(book_2020, '2020', 'book')
        }
        if (trend) {
          add(trend_2020, '2020', 'trend')
        }
      } else {
        remove('2020')
      }
      year_border('#y2020', yr20)
    })



  function draw() {
    requestAnimationFrame(draw)
    drops.forEach(drop => {
      drop.fall()
    })
  }
  draw()
</script>